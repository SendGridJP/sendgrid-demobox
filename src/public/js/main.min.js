!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){var d=c(1),e=c(4),f=c(29),g=Fluxxor.FluxMixin(React),h=Fluxxor.StoreWatchMixin,i=React.createClass({mixins:[g,h("DemoboxStore")],getStateFromFlux:function(){var a=this.getFlux().store("DemoboxStore");return{sending:a.sending,error:a.error,result:a.result}},componentDidMount:function(){this.handleRouting(window.location.href)},handleRouting:function(a){var b=new URI(a),c="send",d=b.search(!0).p;null!=d&&(c=d),this.getFlux().actions.updActivePage(c)},render:function(){return React.createElement("div",{className:"Root"},React.createElement(d,null),React.createElement(e,null))}});ReactDOM.render(React.createElement(i,{flux:f}),document.getElementById("root"))},function(a,b,c){var d=c(2),e=React.createClass({render:function(){return React.createElement("nav",{className:"navbar navbar-default"},React.createElement("div",{className:"navbar-header"},React.createElement("button",{className:"navbar-toggle","data-toggle":"collapse","data-target":".target"},React.createElement("span",{className:"icon-bar"}),React.createElement("span",{className:"icon-bar"}),React.createElement("span",{className:"icon-bar"})),React.createElement("a",{className:"navbar-brand",href:""},"DemoBox")),React.createElement("div",{className:"collapse navbar-collapse target"},React.createElement(d,null),React.createElement("ul",{className:"nav navbar-nav navbar-right"},React.createElement("li",null,React.createElement("a",{href:"https://sendgrid.com/account/overview",target:"_blank"},"sendgrid.com")),React.createElement("li",null,React.createElement("a",{href:"https://sendgrid.com/statistics",target:"_blank"},"Statistics")),React.createElement("li",null,React.createElement("a",{href:"https://sendgrid.com/templates",target:"_blank"},"Templates")))))}});a.exports=e},function(a,b,c){var d=c(3),e=React.createClass({render:function(){return React.createElement("ul",{className:"nav navbar-nav"},React.createElement(d,{pageId:"send",href:"/index.html?p=send",text:"メールを送る"}),React.createElement(d,{pageId:"receive",href:"/index.html?p=receive",text:"メールを受ける"}))}});a.exports=e},function(a,b){var c=Fluxxor.FluxMixin(React),d=Fluxxor.StoreWatchMixin,e=React.createClass({mixins:[c,d("DemoboxStore")],getStateFromFlux:function(){var a=this.getFlux().store("DemoboxStore");return{activePage:a.activePage}},propTypes:{pageId:React.PropTypes.string.isRequired,href:React.PropTypes.string.isRequired,text:React.PropTypes.string.isRequired},getActive:function(a,b){return a===b?"active":""},render:function(){return React.createElement("li",{id:this.props.pageId,className:this.getActive(this.props.pageId,this.state.activePage)},React.createElement("a",{className:"subtree-name",href:this.props.href},this.props.text))}});a.exports=e},function(a,b,c){var d=c(5),e=c(27),f=Fluxxor.FluxMixin(React),g=Fluxxor.StoreWatchMixin,h=React.createClass({mixins:[f,g("DemoboxStore")],getStateFromFlux:function(){var a=this.getFlux().store("DemoboxStore");return{activePage:a.activePage}},propTypes:{},render:function(){var a="";return"send"===this.state.activePage?a=React.createElement(d,null):"receive"===this.state.activePage&&(a=React.createElement(e,null)),a}});a.exports=h},function(a,b,c){var d=c(6),e=c(23),f=React.createClass({render:function(){return React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-3"},React.createElement(d,null)),React.createElement("div",{className:"col-md-9"},React.createElement(e,null))))}});a.exports=f},function(a,b,c){var d=c(7),e=c(9),f=c(11),g=c(14),h=c(16),i=c(13),j=c(18),k=c(19),l=c(21),m=Fluxxor.FluxMixin(React),n=Fluxxor.StoreWatchMixin,o=React.createClass({mixins:[m,n("DemoboxStore")],componentDidMount:function(){this.getFlux().actions.getSendInit()},getStateFromFlux:function(){var a=this.getFlux().store("DemoboxStore");return{status:a.status,request:a.request,responseCode:a.responseCode,responseBody:a.responseBody,mailData:a.mailData}},handleUpdFrom:function(a,b,c){this.getFlux().actions.updFrom(b,c)},handleAddReplyto:function(){this.getFlux().actions.addReplyto()},handleDelReplyto:function(){this.getFlux().actions.delReplyto()},handleUpdReplyto:function(a,b,c){this.getFlux().actions.updReplyto(b,c)},handleAddSubject:function(){this.getFlux().actions.addSubject()},handleDelSubject:function(){this.getFlux().actions.delSubject()},handleUpdSubject:function(a,b){this.getFlux().actions.updSubject(b)},handleAddContent:function(){this.getFlux().actions.addContent()},handleDelContent:function(a){this.getFlux().actions.delContent(a)},handleUpdContent:function(a,b){this.getFlux().actions.updContent(a,b)},handleAddAttachment:function(){this.getFlux().actions.addAttachment()},handleDelAttachment:function(a){this.getFlux().actions.delAttachment(a)},handleUpdAttachment:function(a,b,c){this.getFlux().actions.updAttachment(a,b,c)},handleAddTemplateId:function(){this.getFlux().actions.addTemplateId()},handleDelTemplateId:function(){this.getFlux().actions.delTemplateId()},handleUpdTemplateId:function(a,b){this.getFlux().actions.updTemplateId(b)},handleAddSections:function(){this.getFlux().actions.addSections()},handleDelSections:function(a){this.getFlux().actions.delSections(a)},handleUpdSections:function(a,b,c){this.getFlux().actions.updSections(a,b,c)},handleAddHeaders:function(){this.getFlux().actions.addHeaders()},handleDelHeaders:function(a){this.getFlux().actions.delHeaders(a)},handleUpdHeaders:function(a,b,c){this.getFlux().actions.updHeaders(a,b,c)},handleAddCategories:function(){this.getFlux().actions.addCategories()},handleDelCategories:function(a){this.getFlux().actions.delCategories(a)},handleUpdCategories:function(a,b){this.getFlux().actions.updCategories(a,b)},handleAddCustomArgs:function(){this.getFlux().actions.addCustomArgs()},handleDelCustomArgs:function(a){this.getFlux().actions.delCustomArgs(a)},handleUpdCustomArgs:function(a,b,c){this.getFlux().actions.updCustomArgs(a,b,c)},handleAddSendAt:function(){this.getFlux().actions.addSendAt()},handleDelSendAt:function(){this.getFlux().actions.delSendAt()},handleUpdSendAt:function(a,b){this.getFlux().actions.updSendAt(b)},handleAddBatchId:function(){this.getFlux().actions.addBatchId()},handleDelBatchId:function(){this.getFlux().actions.delBatchId()},handleUpdBatchId:function(a,b){this.getFlux().actions.updBatchId(b)},handleAddAsm:function(){this.getFlux().actions.addAsm()},handleDelAsm:function(){this.getFlux().actions.delAsm()},handleAddIpPoolName:function(){this.getFlux().actions.addIpPoolName()},handleDelIpPoolName:function(){this.getFlux().actions.delIpPoolName()},handleUpdIpPoolName:function(a,b){this.getFlux().actions.updIpPoolName(b)},handleSendMail:function(a){a.preventDefault(),this.getFlux().actions.sendMail(this.state.mailData)},render:function(){return React.createElement("div",null,React.createElement("form",{id:"param",className:"form-horizontal"},React.createElement(d,null),React.createElement(e,{title:"from",required:!0,data:this.state.mailData.from,handleUpd:this.handleUpdFrom,max:1}),React.createElement(e,{title:"reply-to",required:!1,data:this.state.mailData["reply-to"],handleAdd:this.handleAddReplyto,handleDel:this.handleDelReplyto,handleUpd:this.handleUpdReplyto,max:1}),React.createElement(f,{title:"subject",required:!1,placeholder:"subject",value:this.state.mailData.subject,handleAdd:this.handleAddSubject,handleDel:this.handleDelSubject,handleUpd:this.handleUpdSubject,max:1}),React.createElement(g,{data:this.state.mailData.content,handleAdd:this.handleAddContent,handleDel:this.handleDelContent,handleUpd:this.handleUpdContent}),React.createElement(h,{data:this.state.mailData.attachments,handleAdd:this.handleAddAttachment,handleDel:this.handleDelAttachment,handleUpd:this.handleUpdAttachment}),React.createElement(f,{title:"template_id",required:!1,placeholder:"Template ID",value:this.state.mailData.template_id,handleAdd:this.handleAddTemplateId,handleDel:this.handleDelTemplateId,handleUpd:this.handleUpdTemplateId,max:1}),React.createElement(i,{title:"sections",required:!1,data:this.state.mailData.sections,handleAdd:this.handleAddSections,handleDel:this.handleDelSections,handleUpd:this.handleUpdSections}),React.createElement(i,{title:"headers",required:!1,data:this.state.mailData.headers,handleAdd:this.handleAddHeaders,handleDel:this.handleDelHeaders,handleUpd:this.handleUpdHeaders}),React.createElement(f,{title:"categories",required:!1,placeholder:"categories",value:this.state.mailData.categories,handleAdd:this.handleAddCategories,handleDel:this.handleDelCategories,handleUpd:this.handleUpdCategories,max:255}),React.createElement(i,{title:"custom_args",required:!1,data:this.state.mailData.custom_args,handleAdd:this.handleAddCustomArgs,handleDel:this.handleDelCustomArgs,handleUpd:this.handleUpdCustomArgs}),React.createElement(f,{title:"send_at",required:!1,placeholder:"UNIXTIME",value:this.state.mailData.send_at,handleAdd:this.handleAddSendAt,handleDel:this.handleDelSendAt,handleUpd:this.handleUpdSendAt,max:1}),React.createElement(f,{title:"batch_id",required:!1,placeholder:"Batch ID",value:this.state.mailData.batch_id,handleAdd:this.handleAddBatchId,handleDel:this.handleDelBatchId,handleUpd:this.handleUpdBatchId,max:1}),React.createElement(j,{data:this.state.mailData.asm,handleAdd:this.handleAddAsm,handleDel:this.handleDelAsm}),React.createElement(f,{title:"ip_pool_name",required:!1,placeholder:"IP pool name",value:this.state.mailData.ip_pool_name,handleAdd:this.handleAddIpPoolName,handleDel:this.handleDelIpPoolName,handleUpd:this.handleUpdIpPoolName,max:1}),React.createElement(k,null),React.createElement(l,null)),React.createElement("button",{id:"send",className:"btn btn-primary center-block",onClick:this.handleSendMail},"送信"),React.createElement("div",null,this.state.status),React.createElement("div",null,this.state.request),React.createElement("div",null,this.state.responseCode),React.createElement("div",null,this.state.responseBody))}});a.exports=o},function(a,b,c){var d=c(8),e=Fluxxor.FluxMixin(React),f=Fluxxor.StoreWatchMixin,g=React.createClass({mixins:[e,f("DemoboxStore")],getStateFromFlux:function(){var a=this.getFlux().store("DemoboxStore");return{personalizations:a.mailData.personalizations}},handleAddPersonalization:function(){this.getFlux().actions.addPersonalization()},render:function(){return React.createElement("div",null,React.createElement("label",{className:"control-label"},React.createElement("span",{className:"text-danger"},"*"),"personalizations"),React.createElement(FlipMove,{enterAnimation:"accordianVertical",leaveAnimation:"accordianVertical"},this.state.personalizations.map(function(a,b){return React.createElement(d,{index:b})})),React.createElement("div",null,React.createElement("a",{href:"javascript:void(0)",onClick:this.handleAddPersonalization},React.createElement("span",{className:"glyphicon glyphicon-plus"}))))}});a.exports=g},function(a,b,c){var d=c(9),e=c(11),f=c(13),g=Fluxxor.FluxMixin(React),h=Fluxxor.StoreWatchMixin,i=React.createClass({mixins:[g,h("DemoboxStore")],propTypes:{index:React.PropTypes.number.isRequired},getDefaultProps:function(){return{key:_.uniqueId("personalization_item")}},getStateFromFlux:function(){var a=this.getFlux().store("DemoboxStore"),b={};return null!=a.mailData.personalizations[this.props.index]&&(b={personalization:a.mailData.personalizations[this.props.index]}),b},handleDelPersonalization:function(){this.getFlux().actions.delPersonalization(this.props.index)},handleAddToInpersonal:function(){this.getFlux().actions.addToInpersonal(this.props.index)},handleDelToInpersonal:function(a){this.getFlux().actions.delToInpersonal(this.props.index,a)},handleUpdToInpersonal:function(a,b,c){this.getFlux().actions.updToInpersonal(this.props.index,a,b,c)},handleAddCcInpersonal:function(){this.getFlux().actions.addCcInpersonal(this.props.index)},handleDelCcInpersonal:function(a){this.getFlux().actions.delCcInpersonal(this.props.index,a)},handleUpdCcInpersonal:function(a,b,c){this.getFlux().actions.updCcInpersonal(this.props.index,a,b,c)},handleAddBccInpersonal:function(){this.getFlux().actions.addBccInpersonal(this.props.index)},handleDelBccInpersonal:function(a){this.getFlux().actions.delBccInpersonal(this.props.index,a)},handleUpdBccInpersonal:function(a,b,c){this.getFlux().actions.updBccInpersonal(this.props.index,a,b,c)},handleAddSubjectInpersonal:function(){this.getFlux().actions.addSubjectInpersonal(this.props.index)},handleDelSubjectInpersonal:function(){this.getFlux().actions.delSubjectInpersonal(this.props.index)},handleUpdSubjectInpersonal:function(a,b){this.getFlux().actions.updSubjectInpersonal(a,b)},handleAddHeaderInpersonal:function(){this.getFlux().actions.addHeaderInpersonal(this.props.index)},handleDelHeaderInpersonal:function(a){this.getFlux().actions.delHeaderInpersonal(this.props.index,a)},handleUpdHeaderInpersonal:function(a,b,c){this.getFlux().actions.updHeaderInpersonal(this.props.index,a,b,c)},handleAddSubstitutionInpersonal:function(){this.getFlux().actions.addSubstitutionInpersonal(this.props.index)},handleDelSubstitutionInpersonal:function(a){this.getFlux().actions.delSubstitutionInpersonal(this.props.index,a)},handleUpdSubstitutionInpersonal:function(a,b,c){this.getFlux().actions.updSubstitutionInpersonal(this.props.index,a,b,c)},handleAddCustomargInpersonal:function(){this.getFlux().actions.addCustomargInpersonal(this.props.index)},handleDelCustomargInpersonal:function(a){this.getFlux().actions.delCustomargInpersonal(this.props.index,a)},handleUpdCustomargInpersonal:function(a,b,c){this.getFlux().actions.updCustomargInpersonal(this.props.index,a,b,c)},handleAddSendAtInpersonal:function(){this.getFlux().actions.addSendAtInpersonal(this.props.index)},handleDelSendAtInpersonal:function(){this.getFlux().actions.delSendAtInpersonal(this.props.index)},handleUpdSendAtInpersonal:function(a,b){this.getFlux().actions.updSendAtInpersonal(a,b)},render:function(){var a="wrapper "+(this.props.index%2==0?"even":"odd");return React.createElement("div",{className:a,key:this.props.key},React.createElement("div",{className:"fixed"},React.createElement("a",{href:"javascript:void(0)",onClick:this.handleDelPersonalization,className:"removeIcon"},React.createElement("span",{className:"glyphicon glyphicon-remove"}))),React.createElement("div",{className:"flex"},React.createElement(d,{title:"to",required:!0,data:this.state.personalization.to,handleAdd:this.handleAddToInpersonal,handleDel:this.handleDelToInpersonal,handleUpd:this.handleUpdToInpersonal}),React.createElement(d,{title:"cc",required:!1,data:this.state.personalization.cc,handleAdd:this.handleAddCcInpersonal,handleDel:this.handleDelCcInpersonal,handleUpd:this.handleUpdCcInpersonal}),React.createElement(d,{title:"bcc",required:!1,data:this.state.personalization.bcc,handleAdd:this.handleAddBccInpersonal,handleDel:this.handleDelBccInpersonal,handleUpd:this.handleUpdBccInpersonal}),React.createElement(e,{title:"subject",required:!1,placeholder:"subject",index:this.props.index,value:this.state.personalization.subject,handleAdd:this.handleAddSubjectInpersonal,handleUpd:this.handleUpdSubjectInpersonal,handleDel:this.handleDelSubjectInpersonal,max:1}),React.createElement(f,{title:"headers",required:!1,data:this.state.personalization.headers,handleAdd:this.handleAddHeaderInpersonal,handleDel:this.handleDelHeaderInpersonal,handleUpd:this.handleUpdHeaderInpersonal}),React.createElement(f,{title:"substitutions",required:!1,data:this.state.personalization.substitutions,handleAdd:this.handleAddSubstitutionInpersonal,handleDel:this.handleDelSubstitutionInpersonal,handleUpd:this.handleUpdSubstitutionInpersonal}),React.createElement(f,{title:"custom_args",required:!1,data:this.state.personalization.custom_args,handleAdd:this.handleAddCustomargInpersonal,handleDel:this.handleDelCustomargInpersonal,handleUpd:this.handleUpdCustomargInpersonal}),React.createElement(e,{title:"send_at",required:!1,index:this.props.index,value:this.state.personalization.send_at,handleAdd:this.handleAddSendAtInpersonal,handleDel:this.handleDelSendAtInpersonal,handleUpd:this.handleUpdSendAtInpersonal,placeholder:"UNIXTIME",max:1})))}});a.exports=i},function(a,b,c){var d=c(10),e=React.createClass({propTypes:{title:React.PropTypes.string.isRequired,required:React.PropTypes.bool.isRequired,data:React.PropTypes.array.isRequired,handleAdd:React.PropTypes.func,handleDel:React.PropTypes.func,handleUpd:React.PropTypes.func,max:React.PropTypes.number},render:function(){var a="";this.props.required&&(a=React.createElement("span",{className:"text-danger"},"*"));var b,c;return Array.isArray(this.props.data)?(c=this.props.data.map(function(a,b){return React.createElement(d,{index:b,valueKey:a.email,valueValue:a.name,nameKey:"email",nameValue:"name",placeholderKey:"Email",placeholderValue:"Name",handleDel:this.props.handleDel,handleUpd:this.props.handleUpd})}.bind(this)),b=React.createElement("a",{href:"javascript:void(0)",onClick:this.props.handleAdd},React.createElement("span",{className:"glyphicon glyphicon-plus"}))):(null!=this.props.data&&(c=React.createElement(d,{valueKey:this.props.data.email,valueValue:this.props.data.name,nameKey:"email",nameValue:"name",placeholderKey:"Email",placeholderValue:"Name",handleDel:this.props.handleDel,handleUpd:this.props.handleUpd})),null==this.props.data&&1==this.props.max&&(b=React.createElement("a",{href:"javascript:void(0)",onClick:this.props.handleAdd},React.createElement("span",{className:"glyphicon glyphicon-plus"})))),React.createElement("div",null,React.createElement("label",{className:"control-label"},a,this.props.title),React.createElement(FlipMove,{enterAnimation:"accordianVertical",leaveAnimation:"accordianVertical"},c),b)}});a.exports=e},function(a,b){var c=React.createClass({propTypes:{index:React.PropTypes.number.isRequired,valueKey:React.PropTypes.string.isRequired,valueValue:React.PropTypes.string.isRequired,nameKey:React.PropTypes.string,nameValue:React.PropTypes.string,placeholderKey:React.PropTypes.string,placeholderValue:React.PropTypes.string,handleDel:React.PropTypes.func.isRequired,handleUpd:React.PropTypes.func.isRequired},getDefaultProps:function(){return{key:_.uniqueId("key_value_item")}},getDefaultProps:function(){return{nameKey:"key",nameValue:"value",placeholderKey:"Key",placeholderValue:"Value"}},handleDel:function(a){a.preventDefault(),this.props.handleDel(this.props.index)},handleUpd:function(a){a.preventDefault(),this.props.handleUpd(this.props.index,a.target.name,a.target.value)},render:function(){var a;"function"==typeof this.props.handleDel&&(a=React.createElement("a",{href:"javascript:void(0)",onClick:this.handleDel,className:"removeIcon"},React.createElement("span",{className:"glyphicon glyphicon-remove"})));var b="wrapper "+(this.props.index%2==0?"even":"odd");return React.createElement("div",{className:b,key:this.props.key},React.createElement("div",{className:"fixed"},a),React.createElement("div",{className:"flex"},React.createElement("input",{type:"text",name:this.props.nameKey,className:"form-control",placeholder:this.props.placeholderKey,defaultValue:this.props.valueKey,onChange:this.handleUpd}),React.createElement("input",{type:"text",name:this.props.nameValue,className:"form-control",placeholder:this.props.placeholderValue,defaultValue:this.props.valueValue,onChange:this.handleUpd})))}});a.exports=c},function(a,b,c){var d=c(12),e=React.createClass({propTypes:{title:React.PropTypes.string.isRequired,required:React.PropTypes.bool.isRequired,index:React.PropTypes.number.isRequired,placeholder:React.PropTypes.string.isRequired,value:React.PropTypes.string.isRequired,handleAdd:React.PropTypes.func.isRequired,handleDel:React.PropTypes.func.isRequired,handleUpd:React.PropTypes.func.isRequired,max:React.PropTypes.number},handleDel:function(a){a.preventDefault(),this.props.handleDel()},handleUpd:function(a){a.preventDefault(),this.props.handleUpd(this.props.index,a.target.value)},getRq:function(){var a="";return this.props.required&&(a=React.createElement("span",{className:"text-danger"},"*")),a},getAdd:function(){return React.createElement("a",{href:"javascript:void(0)",onClick:this.props.handleAdd},React.createElement("span",{className:"glyphicon glyphicon-plus"}))},render:function(){var a,b;return Array.isArray(this.props.value)?(b=this.props.value.map(function(a,b){return React.createElement(d,{index:b,value:a,placeholder:this.props.placeholder,handleDel:this.props.handleDel,handleUpd:this.props.handleUpd})}.bind(this)),a=this.getAdd()):(null!=this.props.value&&(b=React.createElement(d,{index:0,value:this.props.value,placeholder:"Value",handleDel:this.props.handleDel,handleUpd:this.props.handleUpd})),null==this.props.value&&1==this.props.max&&(a=this.getAdd())),React.createElement("div",null,React.createElement("label",{className:"control-label"},this.getRq,this.props.title),React.createElement(FlipMove,{enterAnimation:"accordianVertical",leaveAnimation:"accordianVertical"},b),a)}});a.exports=e},function(a,b){var c=React.createClass({propTypes:{index:React.PropTypes.number.isRequired,value:React.PropTypes.string.isRequired,placeholder:React.PropTypes.string,handleDel:React.PropTypes.func.isRequired,handleUpd:React.PropTypes.func.isRequired},getDefaultProps:function(){return{name:"value",placeholder:"Value",key:_.uniqueId("simple_text_item")}},handleDel:function(a){a.preventDefault(),this.props.handleDel(this.props.index)},handleUpd:function(a){a.preventDefault(),this.props.handleUpd(this.props.index,a.target.value)},render:function(){var a;"function"==typeof this.props.handleDel&&(a=React.createElement("a",{href:"javascript:void(0)",onClick:this.handleDel,className:"removeIcon"},React.createElement("span",{className:"glyphicon glyphicon-remove"})));var b="wrapper "+(this.props.index%2==0?"even":"odd");return React.createElement("div",{className:b,key:this.props.key},React.createElement("div",{className:"fixed"},a),React.createElement("div",{className:"flex"},React.createElement("input",{type:"text",name:this.props.name,className:"form-control",placeholder:this.props.placeholder,defaultValue:this.props.value,onChange:this.handleUpd})))}});a.exports=c},function(a,b,c){var d=c(10),e=React.createClass({propTypes:{title:React.PropTypes.string.isRequired,required:React.PropTypes.bool.isRequired,data:React.PropTypes.array.isRequired,handleAdd:React.PropTypes.func.isRequired,handleDel:React.PropTypes.func.isRequired,handleUpd:React.PropTypes.func.isRequired},render:function(){var a="";return this.props.required&&(a=React.createElement("span",{className:"text-danger"},"*")),React.createElement("div",null,React.createElement("label",{className:"control-label"},a,this.props.title),React.createElement(FlipMove,{enterAnimation:"accordianVertical",leaveAnimation:"accordianVertical"},this.props.data.map(function(a,b){return React.createElement(d,{index:b,valueKey:a.key,valueValue:a.value,nameKey:"key",nameValue:"value",handleDel:this.props.handleDel,handleUpd:this.props.handleUpd})}.bind(this))),React.createElement("a",{href:"javascript:void(0)",onClick:this.props.handleAdd},React.createElement("span",{className:"glyphicon glyphicon-plus"})))}});a.exports=e},function(a,b,c){var d=c(15),e=React.createClass({propTypes:{data:React.PropTypes.array.isRequired,handleAdd:React.PropTypes.func,handleDel:React.PropTypes.func,handleUpd:React.PropTypes.func},render:function(){var a;return _.compact(this.props.data).length<2&&(a=React.createElement("a",{href:"javascript:void(0)",onClick:this.props.handleAdd},React.createElement("span",{className:"glyphicon glyphicon-plus"}))),React.createElement("div",null,React.createElement("label",{className:"control-label"},React.createElement("span",{className:"text-danger"},"*"),"content"),React.createElement(FlipMove,{enterAnimation:"accordianVertical",leaveAnimation:"accordianVertical"},this.props.data.map(function(a,b){return React.createElement(d,{index:b,data:a,handleDel:this.props.handleDel,handleUpd:this.props.handleUpd})}.bind(this))),a)}});a.exports=e},function(a,b){var c=React.createClass({propTypes:{data:React.PropTypes.array.isRequired,index:React.PropTypes.number,handleDel:React.PropTypes.func.isRequired,handleUpd:React.PropTypes.func.isRequired},getDefaultProps:function(){return{key:_.uniqueId("content_item")}},handleDel:function(){this.props.handleDel(this.props.data.type)},handleUpd:function(a){a.preventDefault(),this.props.handleUpd(this.props.data.type,a.target.value)},render:function(){var a;return"function"==typeof this.props.handleDel&&(a=React.createElement("a",{href:"javascript:void(0)",onClick:this.handleDel,className:"removeIcon"},React.createElement("span",{className:"glyphicon glyphicon-remove"}))),React.createElement("div",{className:"wrapper"},React.createElement("div",{className:"fixed"},a),React.createElement("div",{className:"flex"},React.createElement("label",null,this.props.data.type),React.createElement("textarea",{name:this.props.data.type,className:"form-control",defaultValue:this.props.data.value,onChange:this.handleUpd})))}});a.exports=c},function(a,b,c){var d=c(17),e=React.createClass({propTypes:{data:React.PropTypes.array.isRequired,handleAdd:React.PropTypes.func.isRequired,handleDel:React.PropTypes.func.isRequired,handleUpd:React.PropTypes.func.isRequired},render:function(){return React.createElement("div",null,React.createElement("label",{className:"control-label"},"attachments"),React.createElement(FlipMove,{enterAnimation:"accordianVertical",leaveAnimation:"accordianVertical"},this.props.data.map(function(a,b){return React.createElement(d,{index:b,data:a,handleDel:this.props.handleDel,handleUpd:this.props.handleUpd})}.bind(this))),React.createElement("a",{href:"javascript:void(0)",onClick:this.props.handleAdd},React.createElement("span",{className:"glyphicon glyphicon-plus"})))}});a.exports=e},function(a,b){var c=React.createClass({propTypes:{data:React.PropTypes.array.isRequired,index:React.PropTypes.number.isRequired,handleDel:React.PropTypes.func.isRequired,handleUpd:React.PropTypes.func.isRequired},getDefaultProps:function(){return{key:_.uniqueId("attachment_item")}},handleDel:function(){this.props.handleDel(this.props.index)},handleUpd:function(a){a.preventDefault(),this.props.handleUpd(this.props.index,a.target.name,a.target.value)},render:function(){var a="wrapper "+(this.props.index%2==0?"even":"odd");return React.createElement("div",{className:a,key:this.props.key},React.createElement("div",{className:"fixed"},React.createElement("a",{href:"javascript:void(0)",onClick:this.handleDel,className:"removeIcon"},React.createElement("span",{className:"glyphicon glyphicon-remove"}))),React.createElement("div",{className:"flex"},React.createElement("input",{type:"text",name:"content",className:"form-control",placeholder:"Base64 encoded content",defaultValue:this.props.data.content,onChange:this.handleUpd}),React.createElement("input",{type:"text",name:"type",className:"form-control",placeholder:"The mime type",defaultValue:this.props.data.type,onChange:this.handleUpd}),React.createElement("input",{type:"text",name:"filename",className:"form-control",placeholder:"Filename",defaultValue:this.props.data.filename,onChange:this.handleUpd}),React.createElement("input",{type:"text",name:"disposition",className:"form-control",placeholder:"Disposition",defaultValue:this.props.data.disposition,onChange:this.handleUpd}),React.createElement("input",{type:"text",name:"content_id",className:"form-control",placeholder:"Content ID",defaultValue:this.props.data.content_id,onChange:this.handleUpd})))}});a.exports=c},function(a,b,c){var d=c(12),e=Fluxxor.FluxMixin(React),f=Fluxxor.StoreWatchMixin,g=React.createClass({mixins:[e,f("DemoboxStore")],propTypes:{data:React.PropTypes.array.isRequired,handleAdd:React.PropTypes.func.isRequired,handleDel:React.PropTypes.func.isRequired},getDefaultProps:function(){return{key:_.uniqueId("asm")}},getStateFromFlux:function(){return{}},handleUpdGroupId:function(a){a.preventDefault(),this.getFlux().actions.updGroupId(a.target.value)},handleAddGroupsToDisplay:function(){this.getFlux().actions.addGroupsToDisplay()},handleDelGroupsToDisplay:function(a){this.getFlux().actions.delGroupsToDisplay(a)},handleUpdGroupsToDisplay:function(a,b){this.getFlux().actions.updGroupsToDisplay(a,b)},render:function(){var a,b,c;return null===this.props.data?a=React.createElement("a",{href:"javascript:void(0)",onClick:this.props.handleAdd},React.createElement("span",{className:"glyphicon glyphicon-plus"})):(c=this.props.data.groups_to_display.map(function(a,b){return React.createElement(d,{index:b,value:a,placeholder:"groups_to_display",handleDel:this.handleDelGroupsToDisplay,handleUpd:this.handleUpdGroupsToDisplay})}.bind(this)),b=React.createElement("div",{className:"wrapper"},React.createElement("div",{className:"fixed"},React.createElement("a",{href:"javascript:void(0)",onClick:this.props.handleDel,className:"removeIcon"},React.createElement("span",{className:"glyphicon glyphicon-remove"}))),React.createElement("div",{className:"flex"},React.createElement("div",{className:"wrapper"},React.createElement("input",{type:"text",name:"group_id",className:"form-control",placeholder:"group_id",defaultValue:this.props.data.group_id,onChange:this.handleUpdGroupId})),React.createElement(FlipMove,{enterAnimation:"accordianVertical",leaveAnimation:"accordianVertical"},c),React.createElement("a",{href:"javascript:void(0)",onClick:this.handleAddGroupsToDisplay},React.createElement("span",{className:"glyphicon glyphicon-plus"}))))),React.createElement("div",null,React.createElement("label",{className:"control-label"},"asm"),React.createElement(FlipMove,{enterAnimation:"accordianVertical",leaveAnimation:"accordianVertical"},b),a)}});a.exports=g},function(a,b,c){var d=c(20),e=Fluxxor.FluxMixin(React),f=Fluxxor.StoreWatchMixin,g=React.createClass({mixins:[e,f("DemoboxStore")],getStateFromFlux:function(){var a=this.getFlux().store("DemoboxStore");return{mail_settings:a.mailData.mail_settings}},render:function(){return React.createElement("div",null,React.createElement("label",{className:"control-label"},"mail_settings"),React.createElement("div",{className:"wrapper"},React.createElement("div",{className:"fixed"}),React.createElement("div",{className:"flex"},React.createElement(d,{data:this.state.mail_settings,parent:"bcc"}),React.createElement(d,{data:this.state.mail_settings,parent:"bypass_list_management"}),React.createElement(d,{data:this.state.mail_settings,parent:"footer"}),React.createElement(d,{data:this.state.mail_settings,parent:"sandbox_mode"}),React.createElement(d,{data:this.state.mail_settings,parent:"spam_check"}))))}});a.exports=g},function(a,b){var c=Fluxxor.FluxMixin(React),d=Fluxxor.StoreWatchMixin,e=React.createClass({mixins:[c,d("DemoboxStore")],propTypes:{data:React.PropTypes.array.isRequired,parent:React.PropTypes.string.isRequired},getDefaultProps:function(){return{key:_.uniqueId("mail_settings_item")}},getStateFromFlux:function(){return{}},handleAdd:function(a){a.preventDefault(),this.getFlux().actions.addMailSettingsItem(this.props.parent)},handleDel:function(a){a.preventDefault(),this.getFlux().actions.delMailSettingsItem(this.props.parent)},handleUpdEnable:function(a){a.preventDefault(),this.getFlux().actions.updMailSettings(this.props.parent,a.target.name,"true"==a.target.value)},handleUpdMailSettings:function(a){a.preventDefault();var b=a.target.value;"enable"===this.props.name&&(b="true"==a.target.value),"spam_check"===this.props.parent&&"threshold"===a.target.name&&(b=Number(a.target.value)),this.getFlux().actions.updMailSettings(this.props.parent,a.target.name,b)},render:function(){var a,b;if(null===this.props.data[this.props.parent])a=React.createElement("a",{href:"javascript:void(0)",onClick:this.handleAdd},React.createElement("span",{className:"glyphicon glyphicon-plus"
}));else{var c;switch(this.props.parent){case"bcc":c=React.createElement("input",{type:"text",name:"email",className:"form-control",placeholder:"email",defaultValue:this.props.data[this.props.parent].email,onChange:this.handleUpdMailSettings});break;case"footer":c=React.createElement("div",null,React.createElement("input",{type:"text",name:"text",className:"form-control",placeholder:"text",defaultValue:this.props.data[this.props.parent].text,onChange:this.handleUpdMailSettings}),React.createElement("input",{type:"text",name:"html",className:"form-control",placeholder:"html",defaultValue:this.props.data[this.props.parent].html,onChange:this.handleUpdMailSettings}));break;case"spam_check":c=React.createElement("div",null,React.createElement("input",{type:"text",name:"threshold",className:"form-control",placeholder:"threshold",defaultValue:this.props.data[this.props.parent].threshold,onChange:this.handleUpdMailSettings}),React.createElement("input",{type:"text",name:"post_to_url",className:"form-control",placeholder:"post_to_url",defaultValue:this.props.data[this.props.parent].post_to_url,onChange:this.handleUpdMailSettings}))}b=React.createElement("div",{className:"wrapper"},React.createElement("div",{className:"fixed"},React.createElement("a",{href:"javascript:void(0)",onClick:this.handleDel,className:"removeIcon"},React.createElement("span",{className:"glyphicon glyphicon-remove"}))),React.createElement("div",{className:"flex"},React.createElement("select",{className:"form-control",name:"enable",value:this.props.data[this.props.parent].enable,onChange:this.handleUpdEnable},React.createElement("option",{value:"false"},"false"),React.createElement("option",{value:"true"},"true")),c))}return React.createElement("div",null,React.createElement("label",{className:"control-label"},this.props.parent),React.createElement(FlipMove,{enterAnimation:"accordianVertical",leaveAnimation:"accordianVertical"},b),a)}});a.exports=e},function(a,b,c){var d=c(22),e=Fluxxor.FluxMixin(React),f=Fluxxor.StoreWatchMixin,g=React.createClass({mixins:[e,f("DemoboxStore")],getStateFromFlux:function(){var a=this.getFlux().store("DemoboxStore");return{tracking_settings:a.mailData.tracking_settings}},render:function(){return React.createElement("div",null,React.createElement("label",{className:"control-label"},"tracking_settings"),React.createElement("div",{className:"wrapper"},React.createElement("div",{className:"fixed"}),React.createElement("div",{className:"flex"},React.createElement(d,{data:this.state.tracking_settings,parent:"click_tracking"}),React.createElement(d,{data:this.state.tracking_settings,parent:"open_tracking"}),React.createElement(d,{data:this.state.tracking_settings,parent:"subscription_tracking"}),React.createElement(d,{data:this.state.tracking_settings,parent:"ganalytics"}))))}});a.exports=g},function(a,b){var c=Fluxxor.FluxMixin(React),d=Fluxxor.StoreWatchMixin,e=React.createClass({mixins:[c,d("DemoboxStore")],propTypes:{data:React.PropTypes.array.isRequired,parent:React.PropTypes.string.isRequired},getDefaultProps:function(){return{key:_.uniqueId("tracking_settings_item")}},getStateFromFlux:function(){return{}},handleAdd:function(a){a.preventDefault(),this.getFlux().actions.addTrackingSettingsItem(this.props.parent)},handleDel:function(a){a.preventDefault(),this.getFlux().actions.delTrackingSettingsItem(this.props.parent)},handleUpdEnable:function(a){a.preventDefault(),this.getFlux().actions.updTrackingSettings(this.props.parent,a.target.name,"true"==a.target.value)},handleUpdTrackingSettings:function(a){a.preventDefault();var b=a.target.value;"enable"===this.props.name&&(b="true"==a.target.value),this.getFlux().actions.updTrackingSettings(this.props.parent,a.target.name,b)},render:function(){var a,b;if(null===this.props.data[this.props.parent])a=React.createElement("a",{href:"javascript:void(0)",onClick:this.handleAdd},React.createElement("span",{className:"glyphicon glyphicon-plus"}));else{var c;switch(this.props.parent){case"click_tracking":c=React.createElement("select",{className:"form-control",name:"enable_text",value:this.props.data[this.props.parent].enable_text,onChange:this.handleUpdTrackingSettings},React.createElement("option",{value:"false"},"false"),React.createElement("option",{value:"true"},"true"));break;case"open_tracking":c=React.createElement("div",null,React.createElement("input",{type:"text",name:"substitution_tag",className:"form-control",placeholder:"substitution_tag",defaultValue:this.props.data[this.props.parent].substitution_tag,onChange:this.handleUpdTrackingSettings}));break;case"subscription_tracking":c=React.createElement("div",null,React.createElement("input",{type:"text",name:"text",className:"form-control",placeholder:"text",defaultValue:this.props.data[this.props.parent].text,onChange:this.handleUpdTrackingSettings}),React.createElement("input",{type:"text",name:"html",className:"form-control",placeholder:"html",defaultValue:this.props.data[this.props.parent].html,onChange:this.handleUpdTrackingSettings}),React.createElement("input",{type:"text",name:"substitution_tag",className:"form-control",placeholder:"substitution_tag",defaultValue:this.props.data[this.props.parent].substitution_tag,onChange:this.handleUpdTrackingSettings}));break;case"ganalytics":c=React.createElement("div",null,React.createElement("input",{type:"text",name:"utm_source",className:"form-control",placeholder:"utm_source",defaultValue:this.props.data[this.props.parent].utm_source,onChange:this.handleUpdTrackingSettings}),React.createElement("input",{type:"text",name:"utm_medium",className:"form-control",placeholder:"utm_medium",defaultValue:this.props.data[this.props.parent].utm_medium,onChange:this.handleUpdTrackingSettings}),React.createElement("input",{type:"text",name:"utm_term",className:"form-control",placeholder:"utm_term",defaultValue:this.props.data[this.props.parent].utm_term,onChange:this.handleUpdTrackingSettings}),React.createElement("input",{type:"text",name:"utm_content",className:"form-control",placeholder:"utm_content",defaultValue:this.props.data[this.props.parent].utm_content,onChange:this.handleUpdTrackingSettings}),React.createElement("input",{type:"text",name:"utm_campaign",className:"form-control",placeholder:"utm_campaign",defaultValue:this.props.data[this.props.parent].utm_campaign,onChange:this.handleUpdTrackingSettings}))}b=React.createElement("div",{className:"wrapper",key:this.props.key},React.createElement("div",{className:"fixed"},React.createElement("a",{href:"javascript:void(0)",onClick:this.handleDel,className:"removeIcon"},React.createElement("span",{className:"glyphicon glyphicon-remove"}))),React.createElement("div",{className:"flex"},React.createElement("div",null,React.createElement("select",{className:"form-control",name:"enable",value:this.props.data[this.props.parent].enable,onChange:this.handleUpdEnable},React.createElement("option",{value:"false"},"false"),React.createElement("option",{value:"true"},"true")),c)))}return React.createElement("div",null,React.createElement("label",{className:"control-label"},this.props.parent),React.createElement(FlipMove,{enterAnimation:"accordianVertical",leaveAnimation:"accordianVertical"},b),a)}});a.exports=e},function(a,b,c){var d=c(24),e=c(25),f=c(26),g=Fluxxor.FluxMixin(React),h=Fluxxor.StoreWatchMixin,i=React.createClass({mixins:[g,h("DemoboxStore")],getStateFromFlux:function(){var a=this.getFlux().store("DemoboxStore");return{showEvent:a.showEvent,events:a.events}},getTable:function(a,b){var c="";return"table"==a&&(c=React.createElement("table",{className:"table table-striped table-bordered table-condensed"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,React.createElement("small",null,"timestamp")),React.createElement("th",null,React.createElement("small",null,"event")),React.createElement("th",null,React.createElement("small",null,"email")),React.createElement("th",null,React.createElement("small",null,"smtp-id")),React.createElement("th",null,React.createElement("small",null,"response")),React.createElement("th",null,React.createElement("small",null,"sg_event_id")),React.createElement("th",null,React.createElement("small",null,"sg_message_id")),React.createElement("th",null,React.createElement("small",null,"useragent")),React.createElement("th",null,React.createElement("small",null,"ip")),React.createElement("th",null,React.createElement("small",null,"attempt")),React.createElement("th",null,React.createElement("small",null,"category")),React.createElement("th",null,React.createElement("small",null,"url")),React.createElement("th",null,React.createElement("small",null,"status")),React.createElement("th",null,React.createElement("small",null,"reason")),React.createElement("th",null,React.createElement("small",null,"type")),React.createElement("th",null,React.createElement("small",null,"send_at")))),React.createElement(FlipMove,{enterAnimation:"accordianVertical",leaveAnimation:"accordianVertical",typeName:"tbody"},b.map(function(a){var b=a.event+String(a.timestamp);return React.createElement(e,{key:b,event:a})},this)))),"json"==a&&(c=React.createElement("table",{className:"table table-striped table-bordered table-condensed"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,React.createElement("small",null,"JSON")))),React.createElement(FlipMove,{enterAnimation:"accordianVertical",leaveAnimation:"accordianVertical",typeName:"tbody"},b.map(function(a,b){var c=a.event+String(a.timestamp);return React.createElement(f,{key:c,event:a})},this)))),c},render:function(){return React.createElement("div",null,React.createElement("div",{className:"btn-toolbar"},React.createElement("div",{className:"btn-group","data-toggle":"buttons-radio"},React.createElement(d,{buttonId:"table",text:"Table"}),React.createElement(d,{buttonId:"json",text:"JSON"}))),this.getTable(this.state.showEvent,this.state.events))}});a.exports=i},function(a,b){var c=Fluxxor.FluxMixin(React),d=Fluxxor.StoreWatchMixin,e=React.createClass({mixins:[c,d("DemoboxStore")],getStateFromFlux:function(){var a=this.getFlux().store("DemoboxStore");return{showEvent:a.showEvent}},propTypes:{buttonId:React.PropTypes.string.isRequired,text:React.PropTypes.string.isRequired},handleClick:function(a){a.preventDefault(),this.getFlux().actions.toggleShowEvent(this.props.buttonId)},getActive:function(a,b){return a===b?"btn btn-default active":"btn btn-default"},render:function(){return React.createElement("button",{className:this.getActive(this.props.buttonId,this.state.showEvent),id:this.props.buttonId,onClick:this.handleClick},this.props.text)}});a.exports=e},function(a,b){var c=React.createClass({propTypes:{event:React.PropTypes.object.isRequired},render:function(){this.props.event.event+String(this.props.event.timestamp);return React.createElement("tr",null,React.createElement("td",null,React.createElement("small",null,this.props.event.timestamp)),React.createElement("td",null,React.createElement("small",null,this.props.event.event)),React.createElement("td",null,React.createElement("small",null,this.props.event.email)),React.createElement("td",null,React.createElement("small",null,this.props.event["smtp-id"])),React.createElement("td",null,React.createElement("small",null,this.props.event.response)),React.createElement("td",null,React.createElement("small",null,this.props.event.sg_event_id)),React.createElement("td",null,React.createElement("small",null,this.props.event.sg_message_id)),React.createElement("td",null,React.createElement("small",null,this.props.event.useragent)),React.createElement("td",null,React.createElement("small",null,this.props.event.ip)),React.createElement("td",null,React.createElement("small",null,this.props.event.attempt)),React.createElement("td",null,React.createElement("small",null,this.props.event.category)),React.createElement("td",null,React.createElement("small",null,this.props.event.url)),React.createElement("td",null,React.createElement("small",null,this.props.event.status)),React.createElement("td",null,React.createElement("small",null,this.props.event.reason)),React.createElement("td",null,React.createElement("small",null,this.props.event.type)),React.createElement("td",null,React.createElement("small",null,this.props.event.send_at)))}});a.exports=c},function(a,b){var c=React.createClass({propTypes:{event:React.PropTypes.object.isRequired},render:function(){return React.createElement("tr",null,React.createElement("td",null,React.createElement("div",null,React.createElement("small",null,JSON.stringify(this.props.event)))))}});a.exports=c},function(a,b,c){var d=c(28),e=Fluxxor.FluxMixin(React),f=Fluxxor.StoreWatchMixin,g=React.createClass({mixins:[e,f("DemoboxStore")],componentDidMount:function(){this.getFlux().actions.getReceiveInit()},getStateFromFlux:function(){var a=this.getFlux().store("DemoboxStore");return{receiveAddress:a.receiveAddress,receiveMails:a.receiveMails}},getMailTo:function(a){return"mailto:"+a+"?subject=メール受信テスト&amp;body=メール受信テストの本文"},render:function(){return React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"row"},React.createElement("div",{className:"row"},React.createElement("div",{className:"alert alert-warning"},"Mailto: ",React.createElement("a",{href:this.getMailTo(this.state.receiveAddress)},this.state.receiveAddress))),React.createElement("table",{id:"receive-table",className:"table table-striped table-bordered table-condensed"},React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",null,React.createElement("small",null,"to")),React.createElement("th",null,React.createElement("small",null,"from")),React.createElement("th",null,React.createElement("small",null,"subject")),React.createElement("th",null,React.createElement("small",null,"text")),React.createElement("th",null,React.createElement("small",null,"html")),React.createElement("th",null,React.createElement("small",null,"charsets")),React.createElement("th",null,React.createElement("small",null,"attachments")),React.createElement("th",null,React.createElement("small",null,"envelope")),React.createElement("th",null,React.createElement("small",null,"sender_ip")),React.createElement("th",null,React.createElement("small",null,"dkim")),React.createElement("th",null,React.createElement("small",null,"SPF")),React.createElement("th",null,React.createElement("small",null,"headers")))),React.createElement(FlipMove,{enterAnimation:"accordianVertical",leaveAnimation:"accordianVertical",typeName:"tbody"},this.state.receiveMails.map(function(a){var b=a.id;return React.createElement(d,{key:b,mail:a})},this)))))}});a.exports=g},function(a,b){var c=React.createClass({propTypes:{mail:React.PropTypes.object.isRequired},render:function(){return React.createElement("tr",null,React.createElement("td",null,React.createElement("small",null,this.props.mail.to)),React.createElement("td",null,React.createElement("small",null,this.props.mail.from)),React.createElement("td",null,React.createElement("small",null,this.props.mail.subject)),React.createElement("td",null,React.createElement("small",null,this.props.mail.text)),React.createElement("td",null,React.createElement("small",null,this.props.mail.html)),React.createElement("td",null,React.createElement("small",null,this.props.mail.charsets)),React.createElement("td",null,React.createElement("small",null,this.props.mail.attachments)),React.createElement("td",null,React.createElement("small",null,this.props.mail.envelope)),React.createElement("td",null,React.createElement("small",null,this.props.mail.sender_ip)),React.createElement("td",null,React.createElement("small",null,this.props.mail.dkim)),React.createElement("td",null,React.createElement("small",null,this.props.mail.SPF)),React.createElement("td",null,React.createElement("small",null,this.props.mail.headers)))}});a.exports=c},function(a,b,c){var d=c(30),e=c(32),f={DemoboxStore:new d},g=e,h=new Fluxxor.Flux(f,g);h.on("dispatch",function(a,b){console&&console.log&&console.log("[Dispatch]",a,b)});var i=(new RocketIO).connect();i.on("event",function(a){h.actions.addEvents(a)}),i.on("receive",function(a){h.actions.addReceiveMail(a)}),a.exports=h},function(a,b,c){var d=c(31),e=Fluxxor.createStore({initialize:function(){this.activePage="send",this.mailData={personalizations:[],subject:"Mail From Demobox",from:null,"reply-to":null,content:[{type:"text/plain",value:"hoge"},{type:"text/html",value:"fuga"}],attachments:[],template_id:null,sections:[],headers:[],categories:[],custom_args:[],send_at:null,asm:null,ip_pool_name:null,mail_settings:{bcc:null,bypass_list_management:null,footer:null,sandbox_mode:null,spam_check:null},tracking_settings:{click_tracking:null,open_tracking:null,subscription_tracking:null,ganalytics:null}},this.status="",this.request="",this.reponseCode="",this.responseBody="",this.error=null,this.result="",this.showEvent="json",this.events=[],this.receiveAddress="",this.receiveMails=[],this.bindActions(d.UPD_ACTIVE_PAGE,this.onUpdActivePage,d.ADD_PERSONALIZATION,this.onAddPersonalization,d.DEL_PERSONALIZATION,this.onDelPersonalization,d.ADD_TO_INPERSONAL,this.onAddToInpersonal,d.DEL_TO_INPERSONAL,this.onDelToInpersonal,d.UPD_TO_INPERSONAL,this.onUpdToInpersonal,d.ADD_CC_INPERSONAL,this.onAddCcInpersonal,d.DEL_CC_INPERSONAL,this.onDelCcInpersonal,d.UPD_CC_INPERSONAL,this.onUpdCcInpersonal,d.ADD_BCC_INPERSONAL,this.onAddBccInpersonal,d.DEL_BCC_INPERSONAL,this.onDelBccInpersonal,d.UPD_BCC_INPERSONAL,this.onUpdBccInpersonal,d.ADD_SUBJECT_INPERSONAL,this.onAddSubjectInpersonal,d.DEL_SUBJECT_INPERSONAL,this.onDelSubjectInpersonal,d.UPD_SUBJECT_INPERSONAL,this.onUpdSubjectInpersonal,d.ADD_HEADER_INPERSONAL,this.onAddHeaderInpersonal,d.DEL_HEADER_INPERSONAL,this.onDelHeaderInpersonal,d.UPD_HEADER_INPERSONAL,this.onUpdHeaderInpersonal,d.ADD_SUBSTITUTION_INPERSONAL,this.onAddSubstitutionInpersonal,d.DEL_SUBSTITUTION_INPERSONAL,this.onDelSubstitutionInpersonal,d.UPD_SUBSTITUTION_INPERSONAL,this.onUpdSubstitutionInpersonal,d.ADD_CUSTOMARG_INPERSONAL,this.onAddCustomargInpersonal,d.DEL_CUSTOMARG_INPERSONAL,this.onDelCustomargInpersonal,d.UPD_CUSTOMARG_INPERSONAL,this.onUpdCustomargInpersonal,d.ADD_SEND_AT_INPERSONAL,this.onAddSendAtInpersonal,d.DEL_SEND_AT_INPERSONAL,this.onDelSendAtInpersonal,d.UPD_SEND_AT_INPERSONAL,this.onUpdSendAtInpersonal,d.ADD_REPLYTO,this.onAddReplyto,d.DEL_REPLYTO,this.onDelReplyto,d.UPD_REPLYTO,this.onUpdReplyto,d.UPD_FROM,this.onUpdFrom,d.ADD_SUBJECT,this.onAddSubject,d.DEL_SUBJECT,this.onDelSubject,d.UPD_SUBJECT,this.onUpdSubject,d.ADD_CONTENT,this.onAddContent,d.DEL_CONTENT,this.onDelContent,d.UPD_CONTENT,this.onUpdContent,d.ADD_ATTACHMENT,this.onAddAttachment,d.DEL_ATTACHMENT,this.onDelAttachment,d.UPD_ATTACHMENT,this.onUpdAttachment,d.ADD_TEMPLATE_ID,this.onAddTemplateId,d.DEL_TEMPLATE_ID,this.onDelTemplateId,d.UPD_TEMPLATE_ID,this.onUpdTemplateId,d.ADD_SECTIONS,this.onAddSections,d.DEL_SECTIONS,this.onDelSections,d.UPD_SECTIONS,this.onUpdSections,d.ADD_HEADERS,this.onAddHeaders,d.DEL_HEADERS,this.onDelHeaders,d.UPD_HEADERS,this.onUpdHeaders,d.ADD_CATEGORIES,this.onAddCategories,d.DEL_CATEGORIES,this.onDelCategories,d.UPD_CATEGORIES,this.onUpdCategories,d.ADD_CUSTOM_ARGS,this.onAddCustomArgs,d.DEL_CUSTOM_ARGS,this.onDelCustomArgs,d.UPD_CUSTOM_ARGS,this.onUpdCustomArgs,d.ADD_SEND_AT,this.onAddSendAt,d.DEL_SEND_AT,this.onDelSendAt,d.UPD_SEND_AT,this.onUpdSendAt,d.ADD_BATCH_ID,this.onAddBatchId,d.DEL_BATCH_ID,this.onDelBatchId,d.UPD_BATCH_ID,this.onUpdBatchId,d.ADD_ASM,this.onAddAsm,d.DEL_ASM,this.onDelAsm,d.UPD_GROUP_ID,this.onUpdGroupId,d.ADD_GROUPS_TO_DISPLAY,this.onAddGroupsToDisplay,d.DEL_GROUPS_TO_DISPLAY,this.onDelGroupsToDisplay,d.UPD_GROUPS_TO_DISPLAY,this.onUpdGroupsToDisplay,d.ADD_IP_POOL_NAME,this.onAddIpPoolName,d.DEL_IP_POOL_NAME,this.onDelIpPoolName,d.UPD_IP_POOL_NAME,this.onUpdIpPoolName,d.UPD_MAIL_SETTINGS,this.onUpdMailSettings,d.ADD_MAIL_SETTINGS_ITEM,this.onAddMailSettingsItem,d.DEL_MAIL_SETTINGS_ITEM,this.onDelMailSettingsItem,d.UPD_TRACKING_SETTINGS,this.onUpdTrackingSettings,d.ADD_TRACKING_SETTINGS_ITEM,this.onAddTrackingSettingsItem,d.DEL_TRACKING_SETTINGS_ITEM,this.onDelTrackingSettingsItem,d.GET_SEND_INIT_SUCCESS,this.onGetSendInitSuccess,d.GET_SEND_INIT_FAIL,this.onGetSendInitFail,d.GET_RECEIVE_INIT_SUCCESS,this.onGetReceiveInitSuccess,d.GET_RECEIVE_INIT_FAIL,this.onGetReceiveInitFail,d.SEND_MAIL,this.onSendMail,d.SEND_MAIL_SUCCESS,this.onSendMailSuccess,d.SEND_MAIL_FAIL,this.onSendMailFail,d.TOGGLE_SHOW_EVENT,this.onToggleShowEvent,d.ADD_EVENTS,this.onAddEvents,d.ADD_RECEIVE_MAIL,this.onAddReceiveMail)},onUpdActivePage:function(a){this.activePage=a.activePage,this.emit("change")},onAddPersonalization:function(){this.mailData.personalizations.push({to:[{email:"",name:""}],cc:[],bcc:[],headers:[],substitutions:[],custom_args:[]}),this.emit("change")},onDelPersonalization:function(a){delete this.mailData.personalizations[a],this.emit("change")},onAddToInpersonal:function(a){this.mailData.personalizations[a].to.push({email:"",name:""}),this.emit("change")},onDelToInpersonal:function(a){delete this.mailData.personalizations[a.parentIndex].to[a.index],this.emit("change")},onUpdToInpersonal:function(a){this.mailData.personalizations[a.parentIndex].to[a.index][a.key]=a.value,this.emit("change")},onAddCcInpersonal:function(a){this.mailData.personalizations[a].cc.push({email:"",name:""}),this.emit("change")},onDelCcInpersonal:function(a){delete this.mailData.personalizations[a.parentIndex].cc[a.index],this.emit("change")},onUpdCcInpersonal:function(a){this.mailData.personalizations[a.parentIndex].cc[a.index][a.key]=a.value,this.emit("change")},onAddBccInpersonal:function(a){this.mailData.personalizations[a].bcc.push({email:"",name:""}),this.emit("change")},onDelBccInpersonal:function(a){delete this.mailData.personalizations[a.parentIndex].bcc[a.index],this.emit("change")},onUpdBccInpersonal:function(a){this.mailData.personalizations[a.parentIndex].bcc[a.index][a.key]=a.value,this.emit("change")},onAddSubjectInpersonal:function(a){this.mailData.personalizations[a.parentIndex].subject="",this.emit("change")},onDelSubjectInpersonal:function(a){this.mailData.personalizations[a.parentIndex].subject=null,this.emit("change")},onUpdSubjectInpersonal:function(a){this.mailData.personalizations[a.parentIndex].subject=a.value,this.emit("change")},onAddHeaderInpersonal:function(a){this.mailData.personalizations[a].headers.push({"":""}),this.emit("change")},onDelHeaderInpersonal:function(a){delete this.mailData.personalizations[a.parentIndex].headers[a.index],this.emit("change")},onUpdHeaderInpersonal:function(a){this.mailData.personalizations[a.parentIndex].headers[a.index][a.key]=a.value,this.emit("change")},onAddSubstitutionInpersonal:function(a){this.mailData.personalizations[a].substitutions.push({"":""}),this.emit("change")},onDelSubstitutionInpersonal:function(a){delete this.mailData.personalizations[a.parentIndex].substitutions[a.index],this.emit("change")},onUpdSubstitutionInpersonal:function(a){this.mailData.personalizations[a.parentIndex].substitutions[a.index][a.key]=a.value,this.emit("change")},onAddCustomargInpersonal:function(a){this.mailData.personalizations[a].custom_args.push({"":""}),this.emit("change")},onDelCustomargInpersonal:function(a){delete this.mailData.personalizations[a.parentIndex].custom_args[a.index],this.emit("change")},onUpdCustomargInpersonal:function(a){this.mailData.personalizations[a.parentIndex].custom_args[a.index][a.key]=a.value,this.emit("change")},onAddSendAtInpersonal:function(a){this.mailData.personalizations[a.parentIndex].send_at="",this.emit("change")},onDelSendAtInpersonal:function(a){this.mailData.personalizations[a.parentIndex].send_at=null,this.emit("change")},onUpdSendAtInpersonal:function(a){this.mailData.personalizations[a.parentIndex].send_at=a.value,this.emit("change")},onUpdFrom:function(a){this.mailData.from[a.key]=a.value,this.emit("change")},onAddReplyto:function(){this.mailData["reply-to"]={email:"",name:""},this.emit("change")},onDelReplyto:function(){this.mailData["reply-to"]=null,this.emit("change")},onUpdReplyto:function(a){this.mailData["reply-to"][a.key]=a.value,this.emit("change")},onAddSubject:function(){this.mailData.subject="",this.emit("change")},onDelSubject:function(){this.mailData.subject=null,this.emit("change")},onUpdSubject:function(a){this.mailData.subject=a.value,this.emit("change")},onAddContent:function(){var a="",b=this.mailData.content.some(function(a){return"text/html"==a.type});b||(a="text/html");var c=this.mailData.content.some(function(a){return"text/plain"==a.type});c||(a="text/plain"),""!==a&&this.mailData.content.push({type:a,value:""}),this.emit("change")},onDelContent:function(a){for(var b=0;b<this.mailData.content.length;b++)if(void 0!==this.mailData.content[b]&&this.mailData.content[b].type===a.type){delete this.mailData.content[b];break}this.emit("change")},onUpdContent:function(a){for(var b=0;b<this.mailData.content.length;b++)if(void 0!==this.mailData.content[b]&&this.mailData.content[b].type===a.type){this.mailData.content[b].value=a.value;break}this.emit("change")},onAddAttachment:function(){this.mailData.attachments.push({content:"",type:"",filename:"",disposition:"",content_id:""}),this.emit("change")},onDelAttachment:function(a){delete this.mailData.attachments[a.index],this.emit("change")},onUpdAttachment:function(a){this.mailData.attachments[a.index][a.key]=a.value,this.emit("change")},onAddTemplateId:function(){this.mailData.template_id="",this.emit("change")},onDelTemplateId:function(){this.mailData.template_id=null,this.emit("change")},onUpdTemplateId:function(a){this.mailData.template_id=a.value,this.emit("change")},onAddSections:function(){this.mailData.sections.push({"":""}),this.emit("change")},onDelSections:function(a){delete this.mailData.sections[a.index],this.emit("change")},onUpdSections:function(a){this.mailData.sections[a.index][a.key]=a.value,this.emit("change")},onAddHeaders:function(){this.mailData.headers.push({"":""}),this.emit("change")},onDelHeaders:function(a){delete this.mailData.headers[a.index],this.emit("change")},onUpdHeaders:function(a){this.mailData.headers[a.index][a.key]=a.value,this.emit("change")},onAddCategories:function(){this.mailData.categories.push(""),this.emit("change")},onDelCategories:function(a){delete this.mailData.categories[a.index],this.emit("change")},onUpdCategories:function(a){this.mailData.categories[a.index]=a.value,this.emit("change")},onAddCustomArgs:function(){this.mailData.custom_args.push({"":""}),this.emit("change")},onDelCustomArgs:function(a){delete this.mailData.custom_args[a.index],this.emit("change")},onUpdCustomArgs:function(a){this.mailData.custom_args[a.index][a.key]=a.value,this.emit("change")},onAddSendAt:function(){this.mailData.send_at="",this.emit("change")},onDelSendAt:function(){this.mailData.send_at=null,this.emit("change")},onUpdSendAt:function(a){this.mailData.send_at=a.value,this.emit("change")},onAddBatchId:function(){this.mailData.batch_id="",this.emit("change")},onDelBatchId:function(){this.mailData.batch_id=null,this.emit("change")},onUpdBatchId:function(a){this.mailData.batch_id=a.value,this.emit("change")},onAddAsm:function(){this.mailData.asm={group_id:"",groups_to_display:[""]},this.emit("change")},onDelAsm:function(){this.mailData.asm=null,this.emit("change")},onUpdGroupId:function(a){this.mailData.asm.group_id=a.value,this.emit("change")},onAddGroupsToDisplay:function(){this.mailData.asm.groups_to_display.push(""),this.emit("change")},onDelGroupsToDisplay:function(a){delete this.mailData.asm.groups_to_display[a.index],this.emit("change")},onUpdGroupsToDisplay:function(a){this.mailData.asm.groups_to_display[a.index]=a.value,this.emit("change")},onAddIpPoolName:function(){this.mailData.ip_pool_name="",this.emit("change")},onDelIpPoolName:function(){this.mailData.ip_pool_name=null,this.emit("change")},onUpdIpPoolName:function(a){this.mailData.ip_pool_name=a.value,this.emit("change")},onUpdMailSettings:function(a){this.mailData.mail_settings[a.parent][a.name]=a.value,this.emit("change")},onAddMailSettingsItem:function(a){var b={};switch(a.parent){case"bcc":b={enable:!1,email:""};break;case"bypass_list_management":b={enable:!1};break;case"footer":b={enable:!1,text:"",html:""};break;case"sandbox_mode":b={enable:!1};break;case"spam_check":b={enable:!1,threshold:5,post_to_url:""}}this.mailData.mail_settings[a.parent]=b,this.emit("change")},onDelMailSettingsItem:function(a){this.mailData.mail_settings[a.parent]=null,this.emit("change")},onUpdTrackingSettings:function(a){this.mailData.tracking_settings[a.parent][a.name]=a.value,this.emit("change")},onAddTrackingSettingsItem:function(a){var b={};switch(a.parent){case"click_tracking":b={enable:!1,enable_text:!1};break;case"open_tracking":b={enable:!1,substitution_tag:""};break;case"subscription_tracking":b={enable:!1,text:"",html:"",substitution_tag:""};break;case"ganalytics":b={enable:!1}}this.mailData.tracking_settings[a.parent]=b,this.emit("change")},onDelTrackingSettingsItem:function(a){this.mailData.tracking_settings[a.parent]=null,this.emit("change")},onGetSendInitSuccess:function(a){this.mailData.from={email:a.result.from,name:""},this.mailData.personalizations.push({to:[{email:a.result.to,name:""}],cc:[],bcc:[],headers:[],substitutions:[],custom_args:[]}),this.emit("change")},onGetSendInitFail:function(a){},onGetReceiveInitSuccess:function(a){this.receiveAddress=a.result.receive_address,this.emit("change")},onGetReceiveInitFail:function(a){},onSendMail:function(a){this.status="送信中...",this.request=a.param,this.responseCode="",this.responseBody="",this.emit("change")},onSendMailSuccess:function(a){this.status="送信完了",this.responseCode=a.result.responseCode,this.responseBody=a.result.responseBody,this.emit("change")},onSendMailFail:function(a){this.status="送信失敗",this.responseCode=a.responseCode,this.responseBody=a.responseBody,this.emit("change")},onToggleShowEvent:function(a){this.showEvent=a.buttonId,this.emit("change")},onAddEvents:function(a){var b=JSON.parse(a.events);this.events=_.union(this.events,b),this.events=_.sortBy(this.events,function(a){return-a.timestamp}),this.emit("change")},onAddReceiveMail:function(a){var b=JSON.parse(a.receiveMail);b.id=_.uniqueId("receive_mail"),this.receiveMails=[b].concat(this.receiveMails),this.emit("change")}});a.exports=e},function(a,b){var c={UPD_ACTIVE_PAGE:"UPD_ACTIVE_PAGE",ADD_PERSONALIZATION:"ADD_PERSONALIZATION",DEL_PERSONALIZATION:"DEL_PERSONALIZATION",ADD_TO_INPERSONAL:"ADD_TO_INPERSONAL",DEL_TO_INPERSONAL:"DEL_TO_INPERSONAL",UPD_TO_INPERSONAL:"UPD_TO_INPERSONAL",ADD_CC_INPERSONAL:"ADD_CC_INPERSONAL",DEL_CC_INPERSONAL:"DEL_CC_INPERSONAL",UPD_CC_INPERSONAL:"UPD_CC_INPERSONAL",ADD_BCC_INPERSONAL:"ADD_BCC_INPERSONAL",DEL_BCC_INPERSONAL:"DEL_BCC_INPERSONAL",UPD_BCC_INPERSONAL:"UPD_BCC_INPERSONAL",ADD_SUBJECT_INPERSONAL:"ADD_SUBJECT_INPERSONAL",DEL_SUBJECT_INPERSONAL:"DEL_SUBJECT_INPERSONAL",UPD_SUBJECT_INPERSONAL:"UPD_SUBJECT_INPERSONAL",ADD_HEADER_INPERSONAL:"ADD_HEADER_INPERSONAL",DEL_HEADER_INPERSONAL:"DEL_HEADER_INPERSONAL",UPD_HEADER_INPERSONAL:"UPD_HEADER_INPERSONAL",ADD_SUBSTITUTION_INPERSONAL:"ADD_SUBSTITUTION_INPERSONAL",DEL_SUBSTITUTION_INPERSONAL:"DEL_SUBSTITUTION_INPERSONAL",UPD_SUBSTITUTION_INPERSONAL:"UPD_SUBSTITUTION_INPERSONAL",ADD_CUSTOMARG_INPERSONAL:"ADD_CUSTOMARG_INPERSONAL",DEL_CUSTOMARG_INPERSONAL:"DEL_CUSTOMARG_INPERSONAL",UPD_CUSTOMARG_INPERSONAL:"UPD_CUSTOMARG_INPERSONAL",ADD_SEND_AT_INPERSONAL:"ADD_SEND_AT_INPERSONAL",DEL_SEND_AT_INPERSONAL:"DEL_SEND_AT_INPERSONAL",UPD_SEND_AT_INPERSONAL:"UPD_SEND_AT_INPERSONAL",UPD_FROM:"UPD_FROM",ADD_REPLYTO:"ADD_REPLYTO",DEL_REPLYTO:"DEL_REPLYTO",UPD_REPLYTO:"UPD_REPLYTO",ADD_SUBJECT:"ADD_SUBJECT",DEL_SUBJECT:"DEL_SUBJECT",UPD_SUBJECT:"UPD_SUBJECT",ADD_CONTENT:"ADD_CONTENT",DEL_CONTENT:"DEL_CONTENT",UPD_CONTENT:"UPD_CONTENT",ADD_ATTACHMENT:"ADD_ATTACHMENT",DEL_ATTACHMENT:"DEL_ATTACHMENT",UPD_ATTACHMENT:"UPD_ATTACHMENT",ADD_TEMPLATE_ID:"ADD_TEMPLATE_ID",
UPD_TEMPLATE_ID:"UPD_TEMPLATE_ID",DEL_TEMPLATE_ID:"DEL_TEMPLATE_ID",ADD_SECTIONS:"ADD_SECTIONS",DEL_SECTIONS:"DEL_SECTIONS",UPD_SECTIONS:"UPD_SECTIONS",ADD_HEADERS:"ADD_HEADERS",DEL_HEADERS:"DEL_HEADERS",UPD_HEADERS:"UPD_HEADERS",ADD_CATEGORIES:"ADD_CATEGORIES",DEL_CATEGORIES:"DEL_CATEGORIES",UPD_CATEGORIES:"UPD_CATEGORIES",ADD_CUSTOM_ARGS:"ADD_CUSTOM_ARGS",DEL_CUSTOM_ARGS:"DEL_CUSTOM_ARGS",UPD_CUSTOM_ARGS:"UPD_CUSTOM_ARGS",ADD_SEND_AT:"ADD_SEND_AT",DEL_SEND_AT:"DEL_SEND_AT",UPD_SEND_AT:"UPD_SEND_AT",ADD_BATCH_ID:"ADD_BATCH_ID",DEL_BATCH_ID:"DEL_BATCH_ID",UPD_BATCH_ID:"UPD_BATCH_ID",ADD_ASM:"ADD_ASM",DEL_ASM:"DEL_ASM",UPD_GROUP_ID:"UPD_GROUP_ID",ADD_GROUPS_TO_DISPLAY:"ADD_GROUPS_TO_DISPLAY",DEL_GROUPS_TO_DISPLAY:"DEL_GROUPS_TO_DISPLAY",UPD_GROUPS_TO_DISPLAY:"UPD_GROUPS_TO_DISPLAY",ADD_IP_POOL_NAME:"ADD_IP_POOL_NAME",DEL_IP_POOL_NAME:"DEL_IP_POOL_NAME",UPD_IP_POOL_NAME:"UPD_IP_POOL_NAME",UPD_MAIL_SETTINGS:"UPD_MAIL_SETTINGS",ADD_MAIL_SETTINGS_ITEM:"ADD_MAIL_SETTINGS_ITEM",DEL_MAIL_SETTINGS_ITEM:"DEL_MAIL_SETTINGS_ITEM",UPD_TRACKING_SETTINGS:"UPD_TRACKING_SETTINGS",ADD_TRACKING_SETTINGS_ITEM:"ADD_TRACKING_SETTINGS_ITEM",DEL_TRACKING_SETTINGS_ITEM:"DEL_TRACKING_SETTINGS_ITEM",GET_SEND_INIT_SUCCESS:"GET_SEND_INIT_SUCCESS",GET_SEND_INIT_FAIL:"GET_SEND_INIT_FAIL",GET_RECEIVE_INIT_SUCCESS:"GET_RECEIVE_INIT_SUCCESS",GET_RECEIVE_INIT_FAIL:"GET_RECEIVE_INIT_FAIL",SEND_MAIL:"SEND_MAIL",SEND_MAIL_SUCCESS:"SEND_MAIL_SUCCESS",SEND_MAIL_FAIL:"SEND_MAIL_FAIL",TOGGLE_SHOW_EVENT:"TOGGLE_SHOW_EVENT",ADD_EVENTS:"ADD_EVENTS",ADD_RECEIVE_MAIL:"ADD_RECEIVE_MAIL"};a.exports=c},function(a,b,c){var d=c(31),e=c(33),f={updActivePage:function(a){this.dispatch(d.UPD_ACTIVE_PAGE,{activePage:a})},addPersonalization:function(){this.dispatch(d.ADD_PERSONALIZATION,{to:[{email:"",name:""}]})},delPersonalization:function(a){this.dispatch(d.DEL_PERSONALIZATION,a)},addToInpersonal:function(a){this.dispatch(d.ADD_TO_INPERSONAL,a)},delToInpersonal:function(a,b){this.dispatch(d.DEL_TO_INPERSONAL,{parentIndex:a,index:b})},updToInpersonal:function(a,b,c,e){this.dispatch(d.UPD_TO_INPERSONAL,{parentIndex:a,index:b,key:c,value:e})},addCcInpersonal:function(a){this.dispatch(d.ADD_CC_INPERSONAL,a)},delCcInpersonal:function(a,b){this.dispatch(d.DEL_CC_INPERSONAL,{parentIndex:a,index:b})},updCcInpersonal:function(a,b,c,e){this.dispatch(d.UPD_CC_INPERSONAL,{parentIndex:a,index:b,key:c,value:e})},addBccInpersonal:function(a){this.dispatch(d.ADD_BCC_INPERSONAL,a)},delBccInpersonal:function(a,b){this.dispatch(d.DEL_BCC_INPERSONAL,{parentIndex:a,index:b})},updBccInpersonal:function(a,b,c,e){this.dispatch(d.UPD_BCC_INPERSONAL,{parentIndex:a,index:b,key:c,value:e})},addSubjectInpersonal:function(a){this.dispatch(d.ADD_SUBJECT_INPERSONAL,{parentIndex:a})},delSubjectInpersonal:function(a){this.dispatch(d.DEL_SUBJECT_INPERSONAL,{parentIndex:a})},updSubjectInpersonal:function(a,b){this.dispatch(d.UPD_SUBJECT_INPERSONAL,{parentIndex:a,value:b})},addSubstitutionInpersonal:function(a){this.dispatch(d.ADD_SUBSTITUTION_INPERSONAL,a)},delSubstitutionInpersonal:function(a,b){this.dispatch(d.DEL_SUBSTITUTION_INPERSONAL,{parentIndex:a,index:b})},updSubstitutionInpersonal:function(a,b,c,e){this.dispatch(d.UPD_SUBSTITUTION_INPERSONAL,{parentIndex:a,index:b,key:c,value:e})},addHeaderInpersonal:function(a){this.dispatch(d.ADD_HEADER_INPERSONAL,a)},delHeaderInpersonal:function(a,b){this.dispatch(d.DEL_HEADER_INPERSONAL,{parentIndex:a,index:b})},updHeaderInpersonal:function(a,b,c,e){this.dispatch(d.UPD_HEADER_INPERSONAL,{parentIndex:a,index:b,key:c,value:e})},addCustomargInpersonal:function(a){this.dispatch(d.ADD_CUSTOMARG_INPERSONAL,a)},delCustomargInpersonal:function(a,b){this.dispatch(d.DEL_CUSTOMARG_INPERSONAL,{parentIndex:a,index:b})},updCustomargInpersonal:function(a,b,c,e){this.dispatch(d.UPD_CUSTOMARG_INPERSONAL,{parentIndex:a,index:b,key:c,value:e})},addSendAtInpersonal:function(a){this.dispatch(d.ADD_SEND_AT_INPERSONAL,{parentIndex:a})},delSendAtInpersonal:function(a){this.dispatch(d.DEL_SEND_AT_INPERSONAL,{parentIndex:a})},updSendAtInpersonal:function(a,b){this.dispatch(d.UPD_SEND_AT_INPERSONAL,{parentIndex:a,value:b})},updFrom:function(a,b){this.dispatch(d.UPD_FROM,{key:a,value:b})},addReplyto:function(){this.dispatch(d.ADD_REPLYTO)},delReplyto:function(){this.dispatch(d.DEL_REPLYTO)},updReplyto:function(a,b){this.dispatch(d.UPD_REPLYTO,{key:a,value:b})},addSubject:function(){this.dispatch(d.ADD_SUBJECT)},delSubject:function(){this.dispatch(d.DEL_SUBJECT)},updSubject:function(a){this.dispatch(d.UPD_SUBJECT,{value:a})},addContent:function(){this.dispatch(d.ADD_CONTENT)},delContent:function(a){this.dispatch(d.DEL_CONTENT,{type:a})},updContent:function(a,b){this.dispatch(d.UPD_CONTENT,{type:a,value:b})},addAttachment:function(){this.dispatch(d.ADD_ATTACHMENT)},delAttachment:function(a){this.dispatch(d.DEL_ATTACHMENT,{index:a})},updAttachment:function(a,b,c){this.dispatch(d.UPD_ATTACHMENT,{index:a,key:b,value:c})},addTemplateId:function(){this.dispatch(d.ADD_TEMPLATE_ID)},delTemplateId:function(){this.dispatch(d.DEL_TEMPLATE_ID)},updTemplateId:function(a){this.dispatch(d.UPD_TEMPLATE_ID,{value:a})},addSections:function(){this.dispatch(d.ADD_SECTIONS)},delSections:function(a){this.dispatch(d.DEL_SECTIONS,{index:a})},updSections:function(a,b,c){this.dispatch(d.UPD_SECTIONS,{index:a,key:b,value:c})},addHeaders:function(){this.dispatch(d.ADD_HEADERS)},delHeaders:function(a){this.dispatch(d.DEL_HEADERS,{index:a})},updHeaders:function(a,b,c){this.dispatch(d.UPD_HEADERS,{index:a,key:b,value:c})},addCategories:function(){this.dispatch(d.ADD_CATEGORIES)},delCategories:function(a){this.dispatch(d.DEL_CATEGORIES,{index:a})},updCategories:function(a,b){this.dispatch(d.UPD_CATEGORIES,{index:a,value:b})},addCustomArgs:function(){this.dispatch(d.ADD_CUSTOM_ARGS)},delCustomArgs:function(a){this.dispatch(d.DEL_CUSTOM_ARGS,{index:a})},updCustomArgs:function(a,b,c){this.dispatch(d.UPD_CUSTOM_ARGS,{index:a,key:b,value:c})},addSendAt:function(){this.dispatch(d.ADD_SEND_AT)},delSendAt:function(){this.dispatch(d.DEL_SEND_AT)},updSendAt:function(a){this.dispatch(d.UPD_SEND_AT,{value:a})},addBatchId:function(){this.dispatch(d.ADD_BATCH_ID)},delBatchId:function(){this.dispatch(d.DEL_BATCH_ID)},updBatchId:function(a){this.dispatch(d.UPD_BATCH_ID,{value:a})},addAsm:function(){this.dispatch(d.ADD_ASM)},delAsm:function(){this.dispatch(d.DEL_ASM)},updGroupId:function(a){this.dispatch(d.UPD_GROUP_ID,{value:a})},addGroupsToDisplay:function(){this.dispatch(d.ADD_GROUPS_TO_DISPLAY)},delGroupsToDisplay:function(a){this.dispatch(d.DEL_GROUPS_TO_DISPLAY,{index:a})},updGroupsToDisplay:function(a,b){this.dispatch(d.UPD_GROUPS_TO_DISPLAY,{index:a,value:b})},addIpPoolName:function(){this.dispatch(d.ADD_IP_POOL_NAME)},delIpPoolName:function(){this.dispatch(d.DEL_IP_POOL_NAME)},updIpPoolName:function(a){this.dispatch(d.UPD_IP_POOL_NAME,{value:a})},addMailSettingsItem:function(a){this.dispatch(d.ADD_MAIL_SETTINGS_ITEM,{parent:a})},delMailSettingsItem:function(a){this.dispatch(d.DEL_MAIL_SETTINGS_ITEM,{parent:a})},updMailSettings:function(a,b,c){this.dispatch(d.UPD_MAIL_SETTINGS,{parent:a,name:b,value:c})},addTrackingSettingsItem:function(a){this.dispatch(d.ADD_TRACKING_SETTINGS_ITEM,{parent:a})},delTrackingSettingsItem:function(a){this.dispatch(d.DEL_TRACKING_SETTINGS_ITEM,{parent:a})},updTrackingSettings:function(a,b,c){this.dispatch(d.UPD_TRACKING_SETTINGS,{parent:a,name:b,value:c})},getSendInit:function(){e.getFromServer("/send_init",function(a){this.dispatch(d.GET_SEND_INIT_SUCCESS,{result:a})}.bind(this),function(a,b,c){this.dispatch(d.GET_SEND_INIT_FAIL,{responseCode:a.status,responseBody:c.message})}.bind(this))},getReceiveInit:function(){e.getFromServer("/receive_init",function(a){this.dispatch(d.GET_RECEIVE_INIT_SUCCESS,{result:a})}.bind(this),function(a,b,c){this.dispatch(d.GET_RECEIVE_INIT_FAIL,{responseCode:a.status,responseBody:c.message})}.bind(this))},sendMail:function(a){var b=e.makeParam(a);this.dispatch(d.SEND_MAIL,{param:b}),e.sendMail(b,function(a){this.dispatch(d.SEND_MAIL_SUCCESS,{result:a})}.bind(this),function(a,b,c){this.dispatch(d.SEND_MAIL_FAIL,{responseCode:a.status,responseBody:c.message})}.bind(this))},toggleShowEvent:function(a){this.dispatch(d.TOGGLE_SHOW_EVENT,{buttonId:a})},addEvents:function(a){this.dispatch(d.ADD_EVENTS,{events:a})},addReceiveMail:function(a){this.dispatch(d.ADD_RECEIVE_MAIL,{receiveMail:a})}};a.exports=f},function(a,b){var c={sendMail:function(a,b,c){$.ajax({url:"/send",dataType:"json",type:"POST",data:a,success:b,error:c})},makeParam:function(a){for(var b=$.extend(!0,{},a),c=0;c<a.personalizations.length;c++)void 0!==a.personalizations[c]&&(b.personalizations[c].headers=this.array2hash(a.personalizations[c].headers),b.personalizations[c].substitutions=this.array2hash(a.personalizations[c].substitutions),b.personalizations[c].custom_args=this.array2hash(a.personalizations[c].custom_args));b.sections=this.array2hash(a.sections),b.headers=this.array2hash(a.headers),b.custom_args=this.array2hash(a.custom_args);var d=this.deepCompact(b);this.removeEmpty(d);var e=JSON.stringify(d);return e},array2hash:function(a){for(var b={},c=0;c<a.length;c++)_.isEmpty(a[c])||(b[a[c].key]=a[c].value);return b},removeEmpty:function(a){_.isArray(a)&&_.each(a,function(a){this.removeEmpty(a)}.bind(this)),_.isObject(a)&&_.each(_.keys(a),function(b){void 0===a[b]||null===a[b]||_.isObject(a[b])&&_.isEmpty(a[b])||""===a[b]?delete a[b]:_.isObject(a[b])&&0===_.reject(_.values(a[b]),function(a){return null===a}).length?delete a[b]:this.removeEmpty(a[b])}.bind(this))},deepCompact:function(a){var b=$.extend(!0,{},a);b.personalizations=_.compact(a.personalizations);for(var c=0;c<b.personalizations.length;c++)void 0!==a.personalizations[c]&&(b.personalizations[c].to=_.compact(a.personalizations[c].to),b.personalizations[c].cc=_.compact(a.personalizations[c].cc),b.personalizations[c].bcc=_.compact(a.personalizations[c].bcc));return b.content=_.compact(a.content),b.attachments=_.compact(a.attachments),b.categories=_.compact(a.categories),null!==a.asm&&(b.asm.groups_to_display=_.compact(a.asm.groups_to_display)),b},getFromServer:function(a,b,c){$.ajax({url:a,dataType:"json",type:"GET",data:null,success:b,error:c})}};a.exports=c}]);